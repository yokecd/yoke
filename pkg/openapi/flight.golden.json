{
  "description": "Flights allow you to create yoke releases in your cluster using the air traffic controller instead of a client-side implementation like with the core yoke cli. The Flight custom resource let's you specify the flight module via a URL (https or oci) and invoke it with some arbitrary stdin and arguments. Flight resources are namespaced, and the underlying resources it produces must be part of the same namespace. For cluster scoped flights see the ClusterFlight custom resource.",
  "type": "object",
  "required": [
    "spec"
  ],
  "properties": {
    "spec": {
      "description": "Specification of the Flight and ClusterFlight custom resources.",
      "type": "object",
      "required": [
        "wasmUrl"
      ],
      "properties": {
        "args": {
          "description": "List of command-line args to be passed to flight during execution.",
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "clusterAccess": {
          "description": "Allow flight access to the cluster via WASI SDK.",
          "type": "boolean",
          "default": false
        },
        "fixDriftInterval": {
          "description": "Interval to requeue flight for evaluation. Self-healing mechanism.",
          "type": "string"
        },
        "historyCapSize": {
          "description": "Max length of history for releases generated by your flight. Default is 2",
          "type": "integer"
        },
        "input": {
          "description": "Raw input for for flight STDIN.",
          "type": "string"
        },
        "inputObject": {
          "description": "Convenience for writing json/yaml objects directly in CR. Has no effect if input is specified.",
          "type": "object",
          "x-kubernetes-preserve-unknown-fields": true
        },
        "insecure": {
          "description": "Insecure only applies to flights using OCI urls. Allows image references to be fetched without TLS verification.",
          "type": "boolean"
        },
        "maxMemoryMib": {
          "description": "Maximum amounts of Mib to allow the flight to allocate. Default is 4Gib.",
          "type": "integer",
          "minimum": 0
        },
        "prune": {
          "description": "Options for pruning sensitive resources on deletion.",
          "type": "object",
          "properties": {
            "crds": {
              "description": "Delete owned CRDs on deletion",
              "type": "boolean"
            },
            "namespaces": {
              "description": "Delete owned namespaces on deletion",
              "type": "boolean"
            }
          }
        },
        "resourceAccessMatchers": {
          "description": "ResourceMatcher expressions to allow explicit access to resources not owned by the flight.",
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "skipAdmissionWebhook": {
          "description": "Skip admission validation for your flight.",
          "type": "boolean"
        },
        "timeout": {
          "description": "Maximum execution duration before flight is cancelled.",
          "type": "string"
        },
        "wasmUrl": {
          "description": "URL of flight module. Can be http(s) or oci.",
          "type": "string"
        }
      }
    },
    "status": {
      "type": "object",
      "properties": {
        "conditions": {
          "type": "array",
          "items": {
            "type": "object",
            "required": [
              "type",
              "status",
              "lastTransitionTime",
              "reason",
              "message"
            ],
            "properties": {
              "lastTransitionTime": {
                "type": "string"
              },
              "message": {
                "type": "string"
              },
              "observedGeneration": {
                "type": "integer"
              },
              "reason": {
                "type": "string"
              },
              "status": {
                "type": "string"
              },
              "type": {
                "type": "string"
              }
            }
          },
          "x-kubernetes-list-map-keys": [
            "type"
          ],
          "x-kubernetes-list-type": "map"
        }
      }
    }
  }
}